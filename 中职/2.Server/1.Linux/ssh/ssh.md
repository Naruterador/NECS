## 问题:
- 所有 linux 主机之间（包含本主机）root 用户实现密钥 ssh 认证，禁用密码认证。

## 解:
- 在所有虚拟机上执行指令
```shell
ssh-keygen -t rsa     #生成一对公钥
```

- 将/root/.ssh/id_rsa.pub的内容，复制到/root/.ssh/authorized_keys中,然后将authorized_keys拷贝到所有linux主机中。
- 其他说明：
    - 将公钥拷贝到哪台机器中就表示哪台机器可以被免密登录，比如将linux1主机的id_rsa.pub内容拷贝到linux2的authorized_keys中，那么linux2就可以免密登录linux1



```shell
vi /root/.ssh/authorized_keys
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCN/T6Xk8NT8FUlP302GX9ZMF1YMPJW3g4Qh5ttnMNePDf0QNIhCFsq3Q91qJWE4YgS+puW8S3te4G8f8cO7vGvYO1HyFLcPICQH5MfYUfc3SJ8nFcIYMlxSUzjXkGrUJsXIsoxsS/HcohkxGe6x35Y+07CbocADZw5GEAlznNUSjDhvc3XtaCCmiORb+Ia1ha/7V6AYx+ahtr1uwwAIQU68GYjsGRDnjcUyla5A3vGZFRQ356ZUWRfPswXR7OJSspPqkPirDtfDoocF7emIAiERyQC2C0ANedpMf53/7zAQjCqA1KfNhbpyldmvFsjrkxxw0d6fcEGPG6d76FYUzrji9xuWS38gdk0L7NX44eTVT4ZPS5CFhlEMouvoNNABFDZnkl07R7C27BEAbEIKO6/2P0vjUqfEd4oPHrLa7kbNRVYEFZrfCLggkw8qqtbWlKyohxLbvfpL3IgdCCsfzcqr55H9n+aYXxKj0kIJNVGSfT5EoDhj/D3RvqddufJhfk= root@linux2.skills.lan
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDA3ey16VVowEwVJA5W0IseVFN7oZdqS91gRNSr5NxApdAHkyhQVEldKRKo0axKSZlQNxQpZdaFce1ZDb+6/53fLV8QGkjf8+RAsSI4wRQ/i+IMS0b1EDSeQ5lRzqePNQ6fRsITQ1yNTNPX5xyaxLCd8AbxPY6ILCLCjrCLvyXYrWhLYbgq/m+p91telFfbPe2/Ra97KS6z/YV79af/tSmCsOoyire7pwElfzUhePZ+v7RXYY//uBu+n+jeCncqyX+4j6oM6phhoj+yTltMwoMDR+KNq+M+//xZ72Fopet64IBL/mmE9Pq+g0JAXMjHEd93Sy19ouCsOqsO4m9BwK7A1ZWKa6COcrTby2VAoNqoDozk6fPqOlgXq960hC2qbWJnoJPBqtTflHxBZuM/ZkxX5W2DD8xeI9CGhFLyqfgJqFeqeoqAV4TpPsHJhok8QR87y8DpLqzoOfhFrH8Y+E6ZVRcFKfZg462xKM6/Kiogy0LUXNMIn6r2S/xTPAN67zs= root@linux1.skills.lan
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCsUvRFCsunzb3WlguxaHmH63fLEFcOfpQUaw+pIRePZb4d+qh4sYrVxzNwYkVQgsCaJMPeU3SirOTdzTE32UCSmYULxitla6iSIxAAz79Uaa7L8DDKBlOUZbIwBo2tTgrO/VFdrKDkQ9JULE16cnx6xMpD/fFoqWeK7pWyGxcZl6XXHBQ2oCW4t3nI8IYtXDl71OUDpr5sJfFtFX7bULoIKDYkXduTzALoAHPwepu44SK6Jtr8aJAEVhzd+JFK8NNetyxc1sck9DhUV0uEcMpjUVEFzfRfF8wcFeGnJ9zS3WtTASqM9CC2stqt4ZltCMju5ytsvS/c5rQethjCzfyapj/RmZoKiFpCbn4rePjovTsq8yAX9CsVmPRKph5VlVakL2IJS+n7zHmOqwFc/H2Es2SQBIkcRMOjPPY+KcH+G4AbqL2PtX+ahik5uHWddgilu9JAoHys3KDzlQWrPlzf+EFeswhDdhkMO3i1aLXRvI38ReOgl0n2QIMqFMaKbqs= root@linux3.skills.lan
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCog/HFpjIi+DBs9ciBlThiHcSiM1WUPSBzTfwqxB+6EzSx5An6w0xgLMMV4FBo9gW22E/kKQQRx5mw3qExcQ3FMtzkeR+xB8mb3Sky29wCcLix2XMQcypqZhozdUTezc+a7c99U33ROcO5dlvC2575zHPEj4JwimGpw1PSIBt/V47h6pYADRWtjVt6mBt0dII+QWj7ff+CKq6/iv386gBTK3JGpad+mDSmOLnECSSDDR+aLL5QeqbdZ+xv2Oo8u1TX0C+glb4rU/7jmNj8pyMOHyNv6J4rorzhIERmPINrL06Zv3K2uzHjKOdjqyb4idITD/TVIA9zETVIFDpFmbpZ3t1tGmJr5eCRs+oSoXmNGUsKCF8cKIzjUU+HSiIEyT7/vjWQaoiaeCHP7D5co0a+U57ks8sFsnvJFIBZUD1/hXEjIzfsEme7vryiQeMmF03Fg6RByuCSYGV+a9cDlkgBIb2vPEjbVdSZBe6/Yh3OAFPgtU+jgHRBXnJum6YRQk0= root@linux4.skills.lan
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCu9J86EDMFaPw5iDbD0qCdUl1nxhYJX8b32dEcwEUglIo+ctQjjb0O3Ays+O0I+pDBJNoM07EthyPHzM72Pok/gdRnyd+qQjk+WKOgG1R+Zt85NKz8d7IMWdF5s7SJpM4yy/MAAEHS/8IlLGwGVB27yLs9RaXwdVaBzHYjYRAN3QMp+NkCOVomrEPEMptCyCXWcTHOsNjw4Q6yvWun6gvnOeJPi/jJPbsCKJD19H5fMejFh/auojctqHKcznIKp853bMgEN6ADwV1dLruKEFW2pJqjutQYTAomCq9MuHGx+67eHivQVsTyANi9mdeOlcMTt71r7Pch6wu/2sv1kd++Hh7r09CrE+zbbvYoW8bR56LpXou7n8X5sYJI4wWlECM5mW0eBuGeO3fjS73HxwTehcvhViPNF973zSyPbOqc7PZ784vN0XoJ7IyPwZ3jYhPtSae3GS/vwsD8HXbe6HDT/Y/iu19peucyP0/ssceyKl4t7nFWjyxFoTMGRjRTrZs= root@linux5.skills.lan
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDWDhMcvBqbRSWUkDcNsC0Pj7NSWtXtH8KMNo8wndDAUuMxU+jJItQsn8ycVbeUPGie1iJy56dPIZmeJ4UFL0M0+HBHGOQzlPxqWbRkujva0shM7NpRI8JKt+EP5wVm3ucT6Rm0xttb76I7YauqdLOnv0SjidALRSThU1SovBhxkFWWIUE/zRWVO7tq+ORxRC+LS/xLNTU0cTrSvnl+t3tOzRsy07qmjRAF+BHYUNF4sFAVF8LXA4Ko0CBMHpajEYXMf0YMc0s01Gz8hhTwewdyFCM0KeuoISEKKrNe/JSwqBxaJTZQwGKkuGOMlBnDNLv+4k1YeGRV9UzcWBKsGpy0L914RZ0Hx3r2xrk2q5W26pLSSRoKW93h/iN7xjLivDZIyfzCELpm8Ovk0U6j9SGiGKCnG5QQeea5wK/wUS7NlrPMwhfSbzVgFzoJ8TaZuROUedH03yQp9DLRGcWeOHkZUs2a4ARpJsd2HAUBwdDLWNdidYYkSDaNH62u6ucmpAM= root@linux6.skills.lan
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCO5bzYazhM+wZiQhpWMs6dztKTKoAek0XPxR2LHjdqzJoEUZ3QsenYPMOZhYUp2w/6exX27TpX81/dhBIqpYS/z1eNJGr7ZVoCvMlnZS+0cahWvgYpqyVRt/vVuumB/RCOc1ERlAUWEWq4wqKQVRodSP/P9YWEKvg1CYfsT+so+2y3g73/vaYWU2PAPH9uE4SFcSaitqQaCHLiDXWu6TEIBOCxu3z1Yhn4Hy3FIFa4lLbZ+PPGVsuE+YVCaIq+5GP7pD//qv1AKHlLnT04whAzmlD2U3gQs3UI9jqPu9ivLLhti52qQZFqc8CLEQdbjiwPs4wYvhJ5IiPXUnSr8d3JIM4F/M/u8LeyUnTKdPrSeMadb64gfFT00Mtr2vif/fxZbbRjje178RPj8gJ6EbbjgYf7E9gSpK5ZVXej7rFYx/fGIAUnP4qtpni7JeyiBMbGOmHINSBGXkbB5FsPW+7HM/f5HNgA+UAvQl9lxm+ADdv5WMMPHwqB508sXa9xhyM= root@linux7.skills.lan
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC2cO3qxaxdYpOzeZlm8IQ8ejLoztj2E66aHWaTN8xhna4UZdyHhY36jzFziSrNg+IEuowMHgR4Q6ORxa6GBjV3iJsYHMsNyYXaPTNOLEVVHA5tWXjlKC8VlLmWI4IN4qYzZFh8Y7qNbCjYuyXHEzDj6EtmDymL0Z01/PPKhr6O6tWn1S0NqiBCTtUp7MVFkXPm7NlTA/OMeNnoXL3kHUAcIw3bLLeYeIVdoeYonQWwMkcDN1OXqK5YlO10drgfvsjafySc/oVsGxiOYrGsxC3K2x8nv/xgPvWf3W0522KhJGdW3101JIY05wWMRNjePPILAJkHqJWRdj7SoIBfikGxc6lZgKpoKoFdRfWcBSl8Y1TpUU9B+zrMFFDaLecBRI1CLj0fyhtntIpm/0btqKGsvGRrxYwvWHX+eFf2M1nIgvjmOawLrkFv9SLnRN75dIfw9xPaUwbdjwrziX36R5GddiyUfTY9Si/VXMDnohgDt71/4jJ23XYKQwJk2tnz/ws= root@linux9.skills.lan
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDDrSvhnXKPgbNy/6JzKuzaD7HaKX11QJQNOgdDrZXxVjHRZ8uR6JsLLMFLu1W3ca042xBL1lJ+T4Oxk5OQcA5uRYjuuqcK+8kgoJGaXi9i8q89iFYsRQRTAdJ8tayipPNWub2StbIR59h1C3qhpF08RCvXfBSEhAk1H7s+7WhX1zBMh7FrFAxguyWauBOqUpBOuNtGmZ5Cy8BH5r1W/LxGn3iz7JEFSqws5WHuNwxP32bAkwhP3rksmqpwwQjIeQEvjH8lLkMAkWCi1WhV3QpxU+hF8vgri7ARHjBgLetuGefBholMhke0sMKgNFrKsu1aGSOSnZ+5k6rhW+8udlFeOncmc4Gtn7v1SwHE4KH+fIgKxkfV08baF2mwuchEbDQZRyu2mICb1ffsGiS5Qh7VPHWcHKvQfnHXFSo1xf8dnQhIh8NvrWekttTEUQl/WqRIHuuoc0HRmh+QoHGLq47SbXmCpJCDArURz7fcH+Di9DUDknbpCgwptyoQNfs8G+c= root@linux8.skills.lan

```

## 跳过fingerprint不用输入yes
```shell
ssh -o StrictHostKeyChecking=no root@10.60.40.xx
```